
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>populse_mia.data_manager package &#8212; populse_mia 2.4.1-dev+ca509105 documentation</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>populse_mia 2.4.1-dev+ca509105 documentation</span></a></h1>
        <h2 class="heading"><span>populse_mia.data_manager package</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content" role="main">
        
        
  <div class="section" id="module-populse_mia.data_manager">
<span id="populse-mia-data-manager-package"></span><h1>populse_mia.data_manager package<a class="headerlink" href="#module-populse_mia.data_manager" title="Permalink to this headline">¶</a></h1>
<p>Module to handle the projects and their database.</p>
<dl class="simple">
<dt>Contains:</dt><dd><dl class="simple">
<dt>Module:</dt><dd><ul class="simple">
<li><p>data_loader</p></li>
<li><p>database_mia</p></li>
<li><p>filter</p></li>
<li><p>project</p></li>
<li><p>project_properties</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-populse_mia.data_manager.data_history_inspect">
<span id="populse-mia-data-manager-data-history-inspect-module"></span><h2>populse_mia.data_manager.data_history_inspect module<a class="headerlink" href="#module-populse_mia.data_manager.data_history_inspect" title="Permalink to this headline">¶</a></h2>
<p>This module is dedicated to pipeline history.</p>
<dl class="py class">
<dt id="populse_mia.data_manager.data_history_inspect.ProtoProcess">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">ProtoProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">brick</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#ProtoProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.ProtoProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Lightweight convenience class, stores a brick database entry, plus
additional info (used)</p>
<dl class="py method">
<dt id="populse_mia.data_manager.data_history_inspect.ProtoProcess.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">brick</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#ProtoProcess.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.ProtoProcess.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.brick_to_process">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">brick_to_process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">brick</span></em>, <em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#brick_to_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.brick_to_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a brick database entry (document) into a “fake process”: a
<code class="xref py py-class docutils literal notranslate"><span class="pre">̀~capsul.process.process.Process</span></code> direct instance (not subclassed)
which cannot do any actual processing, but which represents its parameters
with values (traits and values). The process gets a <code class="docutils literal notranslate"><span class="pre">name</span></code> and an
<code class="docutils literal notranslate"><span class="pre">uuid</span></code> from the brick, and also an <code class="docutils literal notranslate"><span class="pre">exec_time</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.data_history_pipeline">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">data_history_pipeline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#data_history_pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.data_history_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the complete “useful” history of a file in the database, as a “fake
pipeline”.</p>
<p>The pipeline contains fake processes (unspecialized, direct Process
instances), with all parameters (all being of type Any). The pipeline has
connections, and gets all upstream ancestors of the file, so it contains
all processing used to produce the latest version of the file (it may have
been modified several time during the processing), and gets as inputs all
input files which were used to produce the final data.</p>
<p>Processing bricks which are not used, probably part of earlier runs which
have been orphaned because the data file has been overwritten, are not
listed in this history.</p>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.data_in_value">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">data_in_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#data_in_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.data_in_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks if the given filename is part of the given value. The value may ba a
list, a tuple, or a dict, and may include several layers, which are parsed.</p>
<p>The input filename may be the temp value “&lt;temp&gt;”, or a filename in its
“short” version (relative path to the project database data directory).</p>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.find_procs_with_output">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">find_procs_with_output</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">procs</span></em>, <em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#find_procs_with_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.find_procs_with_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Find in the given process list if the given filename is part of its outputs</p>
<dl class="simple">
<dt>procs: iterable</dt><dd><p>each process in the list is a <a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.ProtoProcess" title="populse_mia.data_manager.data_history_inspect.ProtoProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtoProcess</span></code></a> instance</p>
</dd>
</dl>
<p>filename: str
project: <a class="reference internal" href="#populse_mia.data_manager.project.Project" title="populse_mia.data_manager.project.Project"><code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code></a> instance</p>
<blockquote>
<div><p>used only to get the database folder (base directory for data)</p>
</div></blockquote>
<dl class="simple">
<dt>sprocs: dict</dt><dd><p>exec_time: [(process, param_name), …]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.get_data_history">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">get_data_history</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#get_data_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.get_data_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the processing history for the given data file. Based on
<a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.get_data_history_processes" title="populse_mia.data_manager.data_history_inspect.get_data_history_processes"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_data_history_processes()</span></code></a>.</p>
<p>The history dict contains several elements:</p>
<ul class="simple">
<li><p><cite>parent_files</cite>: set of other data used (directy or indirectly) to
produce the data.</p></li>
<li><p><cite>processes</cite>: processing bricks set from each ancestor data which
lead to the given one. Elements are process (brick) UUIDs.</p></li>
</ul>
<p>history: dict</p>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.get_data_history_bricks">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">get_data_history_bricks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#get_data_history_bricks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.get_data_history_bricks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the complete “useful” history of a file in the database, as a set of
bricks.</p>
<p>This is just a fileterd version of <a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.get_data_history_processes" title="populse_mia.data_manager.data_history_inspect.get_data_history_processes"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_data_history_processes()</span></code></a> (like
<a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.data_history_pipeline" title="populse_mia.data_manager.data_history_inspect.data_history_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">data_history_pipeline()</span></code></a> in another shape), which only returns the set
of brick elements actually used in the “useful” history of the data.</p>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.get_data_history_processes">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">get_data_history_processes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#get_data_history_processes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.get_data_history_processes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the complete “useful” history of a file in the database.</p>
<p>The function outputs a dict of processes (<a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.ProtoProcess" title="populse_mia.data_manager.data_history_inspect.ProtoProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtoProcess</span></code></a> instances)
and a set of links between them. <a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.data_history_pipeline" title="populse_mia.data_manager.data_history_inspect.data_history_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">data_history_pipeline()</span></code></a> is a
higher-level function which is using this one, then converts its outputs
into a <code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code> instance to represent
the data history.</p>
<p>The processes output by this functon may include extra processes that are
looked during history search, but finally not used. They are not filtered
out, but they are distinguished with their <code class="docutils literal notranslate"><span class="pre">used</span></code> attribute: those
actually used have it set to True.</p>
<p>Processing bricks which are not used, probably part of earlier runs which
have been orphaned because the data file has been overwritten, are either
not listed in this history, or have their <code class="docutils literal notranslate"><span class="pre">used</span></code> property set to False.</p>
<dl class="simple">
<dt>procs: dict</dt><dd><p>{uuid: ProtoProcess instance}</p>
</dd>
<dt>links: set</dt><dd><p>{(src_protoprocess, src_plug_name, dst_protoprocess, dst_plug_name)}.
Links from/to the ‘exterior” are also given: in this
case src_protoprocess or dst_protoprocess is None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.get_direct_proc_ancestors">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">get_direct_proc_ancestors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">procs</span></em>, <em class="sig-param"><span class="n">before_exec_time</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">only_latest</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">org_proc</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#get_direct_proc_ancestors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.get_direct_proc_ancestors" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve processing bricks which are referenced in the direct filename
history. It can get the latest before a given execution time. As exec time
is ambiguous (several processes may have finished at exactly the same
time), several processes may be kept for a given exec time.</p>
<p>The “origin” process, if given, is excluded from this exec time filtering
(as we are looking for the one preceding it), but still included in the
ancestors list.</p>
<p>This function manipulates processing bricks as <a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.ProtoProcess" title="populse_mia.data_manager.data_history_inspect.ProtoProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtoProcess</span></code></a>
instances, a light wrapper for a brick database entry.</p>
<dl class="simple">
<dt>filename: str</dt><dd><p>data filename to inspect</p>
</dd>
<dt>project: Project instance</dt><dd><p>used to access database</p>
</dd>
<dt>procs: dict</dt><dd><p>process dict, {uuid: ProtoProcess instance}, the dict is populated when
bricks are retrieved from the database.</p>
</dd>
<dt>before_exec_time: datetime instance (optional)</dt><dd><p>if it is specified, only processing bricks not newer than this time are
used.</p>
</dd>
<dt>only_latest: bool (optional, default: True)</dt><dd><p>if True, only the latest processes retrieved from the history are kept.
If <code class="docutils literal notranslate"><span class="pre">before_exec_time</span></code> is also used, then it is the latest before this
time.</p>
</dd>
<dt>org_proc: ProtoProcess instance (optional)</dt><dd><p>if filename is the output of a process, we can specify it here in order
to exclude it from the time filtering (otherwise only this process will
likely remain).</p>
</dd>
</dl>
<dl class="simple">
<dt>procs: dict</dt><dd><p>{brick uuid: ProtoProcess instance}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.get_filenames_in_value">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">get_filenames_in_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">allow_temp</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#get_filenames_in_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.get_filenames_in_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses <code class="docutils literal notranslate"><span class="pre">value</span></code>, which may be an imbrication of lists, tuples and dicts,
and gets all filenames referenced in it. Only filenames which are database
entries are kept, and the “&lt;temp&gt;” value if <code class="docutils literal notranslate"><span class="pre">allow_temp</span></code> is True (which
is the default). Other non-indexed filenames are considered to be read-only
static data (such as templates, atlases or other software-related data),
and are not retained.</p>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.get_history_brick_process">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">get_history_brick_process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">brick_id</span></em>, <em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">before_exec_time</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#get_history_brick_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.get_history_brick_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a brick from its uuid in the database, and return it as a
<a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.ProtoProcess" title="populse_mia.data_manager.data_history_inspect.ProtoProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtoProcess</span></code></a> instance.</p>
<p>A brick that has not been executed (its exec status is not <code class="docutils literal notranslate"><span class="pre">&quot;Done&quot;</span></code>), or
if it is newer than <code class="docutils literal notranslate"><span class="pre">before_exec_time</span></code> if this parameter is given, is
discarded.</p>
<p>If discarded (or nor found in the database), the return value is None.</p>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.get_proc_ancestors_via_tmp">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">get_proc_ancestors_via_tmp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">proc</span></em>, <em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">procs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#get_proc_ancestors_via_tmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.get_proc_ancestors_via_tmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally an internal function used in <a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.get_data_history_processes" title="populse_mia.data_manager.data_history_inspect.get_data_history_processes"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_data_history_processes()</span></code></a>
and <a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.data_history_pipeline" title="populse_mia.data_manager.data_history_inspect.data_history_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">data_history_pipeline()</span></code></a>: it is not meant to be part of a public
API.</p>
<p>Try to get upstream process(es) for proc, connected via a temp value
(“&lt;temp&gt;”).</p>
<p>For this, try to match processes in the output files history bricks.</p>
<p>Bricks are looked for, first in the process input files direct histories.
If no matching process is found, then the full database bricks history is
searched, which may be much slower for large databases.</p>
<p>The matching is made by the “&lt;temp&gt;” filename and processing time, thus
is error-prone, especially if searching the whole bricks database.</p>
<p><code class="docutils literal notranslate"><span class="pre">proc</span></code> should be a <a class="reference internal" href="#populse_mia.data_manager.data_history_inspect.ProtoProcess" title="populse_mia.data_manager.data_history_inspect.ProtoProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProtoProcess</span></code></a> instance</p>
<dl class="simple">
<dt>new_procs: dict</dt><dd><p>{uuid: ProtoProcess instance}</p>
</dd>
<dt>links: set</dt><dd><p>{(src_protoprocess, src_plug_name, dst_protoprocess, dst_plug_name)}.
Pipeline link from/to the pipeline main plugs are also given: in this
case src_protoprocess or dst_protoprocess is None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_history_inspect.is_data_entry">
<code class="sig-prename descclassname">populse_mia.data_manager.data_history_inspect.</code><code class="sig-name descname">is_data_entry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">allow_temp</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_history_inspect.html#is_data_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_history_inspect.is_data_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the input filename is a database entry. The return value is
either the relative path to the database data directory, or “&lt;temp&gt;” if
filename is this value and allow_temp is True (which is the default), or
None if it is not in the database.</p>
</dd></dl>

</div>
<div class="section" id="module-populse_mia.data_manager.data_loader">
<span id="populse-mia-data-manager-data-loader-module"></span><h2>populse_mia.data_manager.data_loader module<a class="headerlink" href="#module-populse_mia.data_manager.data_loader" title="Permalink to this headline">¶</a></h2>
<p>Module to handle the importation from MRIFileManager and its progress</p>
<dl class="field-list simple">
<dt class="field-odd">Contains</dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Class</dt>
<dd class="field-odd"><ul class="simple">
<li><p>ImportProgress : Inherit from QProgressDialog and handle the
progress bar</p></li>
<li><p>ImportWorker : Inherit from QThread and manage the threads</p></li>
</ul>
</dd>
<dt class="field-even">Methods</dt>
<dd class="field-even"><ul class="simple">
<li><p>read_log : Show the evolution of the progress bar and returns its
feedback</p></li>
<li><p>tags_from_file : Returns a list of [tag, value] contained in a Json
file</p></li>
<li><p>verify_scans : Check if the project’s scans have been modified</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="populse_mia.data_manager.data_loader.ImportProgress">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.data_loader.</code><code class="sig-name descname">ImportProgress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#ImportProgress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.ImportProgress" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PyQt5.QtWidgets.QProgressDialog</span></code></p>
<p>Handle the progress bar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project</strong> – A Project object</p>
</dd>
</dl>
<dl class="py method">
<dt id="populse_mia.data_manager.data_loader.ImportProgress.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#ImportProgress.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.ImportProgress.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.data_loader.ImportProgress.onProgress">
<code class="sig-name descname">onProgress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#ImportProgress.onProgress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.ImportProgress.onProgress" title="Permalink to this definition">¶</a></dt>
<dd><p>Signal to set the import progressbar value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> – int, value of the progressbar</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="populse_mia.data_manager.data_loader.ImportWorker">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.data_loader.</code><code class="sig-name descname">ImportWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">progress</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#ImportWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.ImportWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PyQt5.QtCore.QThread</span></code></p>
<p>Manage threads.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> – A Project object</p></li>
<li><p><strong>progress</strong> – An ImportProgress object</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="populse_mia.data_manager.data_loader.ImportWorker.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">progress</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#ImportWorker.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.ImportWorker.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py attribute">
<dt id="populse_mia.data_manager.data_loader.ImportWorker.notifyProgress">
<code class="sig-name descname">notifyProgress</code><a class="headerlink" href="#populse_mia.data_manager.data_loader.ImportWorker.notifyProgress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.data_loader.ImportWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#ImportWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.ImportWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the QThread run method. Executed when the worker is
started, fills the database and updates the progress.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_loader.read_log">
<code class="sig-prename descclassname">populse_mia.data_manager.data_loader.</code><code class="sig-name descname">read_log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">main_window</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#read_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.read_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the evolution of the progress bar and returns its feedback, a list
of the paths to each data file that was loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> – current project in the software</p></li>
<li><p><strong>main_window</strong> – software’s main window</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scans that have been added</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_loader.tags_from_file">
<code class="sig-prename descclassname">populse_mia.data_manager.data_loader.</code><code class="sig-name descname">tags_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#tags_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.tags_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of [tag, value] contained in a Json file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – file path of the Json file (without the extension)</p></li>
<li><p><strong>path</strong> – project path</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of the Json tags of the file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="populse_mia.data_manager.data_loader.verify_scans">
<code class="sig-prename descclassname">populse_mia.data_manager.data_loader.</code><code class="sig-name descname">verify_scans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/data_loader.html#verify_scans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.data_loader.verify_scans" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the project’s scans have been modified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project</strong> – current project in the software</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the list of scans that have been modified</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-populse_mia.data_manager.database_mia">
<span id="populse-mia-data-manager-database-mia-module"></span><h2>populse_mia.data_manager.database_mia module<a class="headerlink" href="#module-populse_mia.data_manager.database_mia" title="Permalink to this headline">¶</a></h2>
<p>Module that contains class to override the default behaviour of
populse_db and some of its methods</p>
<dl class="field-list simple">
<dt class="field-odd">Contains</dt>
<dd class="field-odd"><dl class="simple">
<dt>Class:</dt><dd><ul class="simple">
<li><p>DatabaseMIA</p></li>
<li><p>DatabaseSessionMIA</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="populse_mia.data_manager.database_mia.DatabaseMIA">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.database_mia.</code><code class="sig-name descname">DatabaseMIA</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">database_url</span></em>, <em class="sig-param"><span class="n">caches</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list_tables</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">query_type</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseMIA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseMIA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">populse_db.database.Database</span></code></p>
<p>Class overriding the default behavior of populse_db</p>
<dl class="py attribute">
<dt id="populse_mia.data_manager.database_mia.DatabaseMIA.database_session_class">
<code class="sig-name descname">database_session_class</code><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseMIA.database_session_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA" title="populse_mia.data_manager.database_mia.DatabaseSessionMIA"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatabaseSessionMIA</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.database_mia.</code><code class="sig-name descname">DatabaseSessionMIA</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">database</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">populse_db.database.DatabaseSession</span></code></p>
<p>Class overriding the database session of populse_db</p>
<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_collection">
<code class="sig-name descname">add_collection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">primary_key</span></em>, <em class="sig-param"><span class="n">visibility</span></em>, <em class="sig-param"><span class="n">origin</span></em>, <em class="sig-param"><span class="n">unit</span></em>, <em class="sig-param"><span class="n">default_value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.add_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the method adding a collection of populse_db.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – New collection name</p></li>
<li><p><strong>primary_key</strong> – New collection primary_key column</p></li>
<li><p><strong>visibility</strong> – Primary key visibility</p></li>
<li><p><strong>origin</strong> – Primary key origin</p></li>
<li><p><strong>unit</strong> – Primary key unit</p></li>
<li><p><strong>default_value</strong> – Primary key default value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_field">
<code class="sig-name descname">add_field</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">collection</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">field_type</span></em>, <em class="sig-param"><span class="n">description</span></em>, <em class="sig-param"><span class="n">visibility</span></em>, <em class="sig-param"><span class="n">origin</span></em>, <em class="sig-param"><span class="n">unit</span></em>, <em class="sig-param"><span class="n">default_value</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">flush</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.add_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a field to the database, if it does not already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection</strong> – field collection (str)</p></li>
<li><p><strong>name</strong> – field name (str)</p></li>
<li><p><strong>field_type</strong> – field type (string, int, float, boolean, date,
datetime, time, list_string, list_int, list_float,
list_boolean, list_date, list_datetime or list_time)</p></li>
<li><p><strong>description</strong> – field description (str or None)</p></li>
<li><p><strong>visibility</strong> – Bool to know if the field is visible in the
databrowser</p></li>
<li><p><strong>origin</strong> – To know the origin of a field,
in [TAG_ORIGIN_BUILTIN, TAG_ORIGIN_USER]</p></li>
<li><p><strong>unit</strong> – Origin of the field, in [TAG_UNIT_MS, TAG_UNIT_MM,
TAG_UNIT_DEGREE, TAG_UNIT_HZPIXEL, TAG_UNIT_MHZ]</p></li>
<li><p><strong>default_value</strong> – Default_value of the field, can be str or None</p></li>
<li><p><strong>flush</strong> – bool to know if the table classes must be updated (put
False if in the middle of filling fields) =&gt; True by
default</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_field_attributes_collection">
<code class="sig-name descname">add_field_attributes_collection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.add_field_attributes_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_field_attributes_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_fields">
<code class="sig-name descname">add_fields</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.add_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.add_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the list of fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> – list of fields (collection, name, type, description,
visibility, origin, unit, default_value)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.get_field">
<code class="sig-name descname">get_field</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">collection</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.get_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.get_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.get_fields">
<code class="sig-name descname">get_fields</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">collection</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.get_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.get_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.get_shown_tags">
<code class="sig-name descname">get_shown_tags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.get_shown_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.get_shown_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Give the list of visible tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the list of visible tags</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.remove_field">
<code class="sig-name descname">remove_field</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">collection</span></em>, <em class="sig-param"><span class="n">fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.remove_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.remove_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a field in the collection</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection</strong> – Field collection (str, must be existing)</p></li>
<li><p><strong>field</strong> – Field name (str, must be existing), or list of fields
(list of str, must all be existing)</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – <ul class="simple">
<li><p>If the collection does not exist</p></li>
<li><p>If the field does not exist</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.database_mia.DatabaseSessionMIA.set_shown_tags">
<code class="sig-name descname">set_shown_tags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fields_shown</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/database_mia.html#DatabaseSessionMIA.set_shown_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.database_mia.DatabaseSessionMIA.set_shown_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the list of visible tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields_shown</strong> – list of visible tags</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-populse_mia.data_manager.filter">
<span id="populse-mia-data-manager-filter-module"></span><h2>populse_mia.data_manager.filter module<a class="headerlink" href="#module-populse_mia.data_manager.filter" title="Permalink to this headline">¶</a></h2>
<p>Module that handle the filter class which contains the results of both
rapid and advanced search</p>
<dl class="field-list simple">
<dt class="field-odd">Contains</dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Class</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Filter</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="populse_mia.data_manager.filter.Filter">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.filter.</code><code class="sig-name descname">Filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">nots</span></em>, <em class="sig-param"><span class="n">values</span></em>, <em class="sig-param"><span class="n">fields</span></em>, <em class="sig-param"><span class="n">links</span></em>, <em class="sig-param"><span class="n">conditions</span></em>, <em class="sig-param"><span class="n">search_bar</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/filter.html#Filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.filter.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="simple">
<dt>Class that represent a Filter, containing the results of both rapid and</dt><dd><p>advanced search.</p>
</dd>
</dl>
<p>The advanced search creates a complex query to the database and is a
combination of several “query lines” which
are linked with AND or OR and all composed of:
- A negation or not
- A tag name or all visible tags
- A condition (==, !=, &gt;, &lt;, &gt;=, &lt;=, CONTAINS, IN, BETWEEN)
- A value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – filter’s name</p></li>
<li><p><strong>nots</strong> – list of negations (“” or NOT)</p></li>
<li><p><strong>values</strong> – list of values</p></li>
<li><p><strong>fields</strong> – list of list of fields</p></li>
<li><p><strong>links</strong> – list of links (AND/OR)</p></li>
<li><p><strong>conditions</strong> – list of conditions (==, !=, &lt;, &gt;, &lt;=, &gt;=, IN,
BETWEEN, CONTAINS, HAS VALUE, HAS NO VALUE)</p></li>
<li><p><strong>search_bar</strong> – value in the rapid search bar</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="populse_mia.data_manager.filter.Filter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">nots</span></em>, <em class="sig-param"><span class="n">values</span></em>, <em class="sig-param"><span class="n">fields</span></em>, <em class="sig-param"><span class="n">links</span></em>, <em class="sig-param"><span class="n">conditions</span></em>, <em class="sig-param"><span class="n">search_bar</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/filter.html#Filter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.filter.Filter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialization of the Filter class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – filter’s name</p></li>
<li><p><strong>nots</strong> – list of negations (“” or NOT)</p></li>
<li><p><strong>values</strong> – list of values</p></li>
<li><p><strong>fields</strong> – list of list of fields</p></li>
<li><p><strong>links</strong> – list of links (AND/OR)</p></li>
<li><p><strong>conditions</strong> – list of conditions (==, !=, &lt;, &gt;, &lt;=, &gt;=, IN,</p></li>
</ul>
</dd>
</dl>
<p>BETWEEN, CONTAINS, HAS VALUE, HAS NO VALUE)
:param search_bar: value in the rapid search bar</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.filter.Filter.generate_filter">
<code class="sig-name descname">generate_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">current_project</span></em>, <em class="sig-param"><span class="n">scans</span></em>, <em class="sig-param"><span class="n">tags</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/filter.html#Filter.generate_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.filter.Filter.generate_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the filter to the given list of scans.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_project</strong> – Current project</p></li>
<li><p><strong>scans</strong> – List of scans to apply the filter into</p></li>
<li><p><strong>tags</strong> – List of tags to search in</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of scans matching the filter</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.filter.Filter.json_format">
<code class="sig-name descname">json_format</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/filter.html#Filter.json_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.filter.Filter.json_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the filter as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the filter as a dictionary</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-populse_mia.data_manager.project">
<span id="populse-mia-data-manager-project-module"></span><h2>populse_mia.data_manager.project module<a class="headerlink" href="#module-populse_mia.data_manager.project" title="Permalink to this headline">¶</a></h2>
<p>Module that handle the projects and their database.</p>
<dl class="field-list simple">
<dt class="field-odd">Contains</dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Class</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Project</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="populse_mia.data_manager.project.Project">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.project.</code><code class="sig-name descname">Project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project_root_folder</span></em>, <em class="sig-param"><span class="n">new_project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class that handles projects and their associated database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_root_folder</strong> – project’s path</p></li>
<li><p><strong>new_project</strong> – project’s object</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project_root_folder</span></em>, <em class="sig-param"><span class="n">new_project</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialization of the project class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_root_folder</strong> – project’s path</p></li>
<li><p><strong>new_project</strong> – project’s object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.add_clinical_tags">
<code class="sig-name descname">add_clinical_tags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.add_clinical_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.add_clinical_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new clinical tags to the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of clinical tags that were added</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.cleanup_orphan_bricks">
<code class="sig-name descname">cleanup_orphan_bricks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bricks</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.cleanup_orphan_bricks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.cleanup_orphan_bricks" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove orphan bricks from the database</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.cleanup_orphan_history">
<code class="sig-name descname">cleanup_orphan_history</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.cleanup_orphan_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.cleanup_orphan_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove orphan bricks from the database</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.cleanup_orphan_nonexisting_files">
<code class="sig-name descname">cleanup_orphan_nonexisting_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.cleanup_orphan_nonexisting_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.cleanup_orphan_nonexisting_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove orphan files which do not exist from the database</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.del_clinical_tags">
<code class="sig-name descname">del_clinical_tags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.del_clinical_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.del_clinical_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove clinical tags to the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of clinical tags that were removed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.files_in_project">
<code class="sig-name descname">files_in_project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.files_in_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.files_in_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Return values in files that are file / directory names within the
project folder.</p>
<p><cite>files</cite> are walked recursively and can be, or contain, lists, tuples,
sets, dicts (only dict <cite>values()</cite> are considered). Dict keys are
dropped and all filenames are merged into a single set.</p>
<p>The returned value is a set of filenames (str).</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.finished_bricks">
<code class="sig-name descname">finished_bricks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">engine</span></em>, <em class="sig-param"><span class="n">pipeline</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">include_done</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.finished_bricks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.finished_bricks" title="Permalink to this definition">¶</a></dt>
<dd><p>blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.getDate">
<code class="sig-name descname">getDate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.getDate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.getDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the date of creation of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>string of the date of creation of the project if it’s not
Unnamed project, otherwise empty string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.getFilter">
<code class="sig-name descname">getFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filter</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.getFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.getFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Filter object from its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filter</strong> – Filter name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filter object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.getFilterName">
<code class="sig-name descname">getFilterName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.getFilterName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.getFilterName" title="Permalink to this definition">¶</a></dt>
<dd><p>Input box to type the name of the filter to save.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Return the name typed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.getName">
<code class="sig-name descname">getName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.getName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.getName" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>string of the name of the project if it’s not Unnamed
project, otherwise empty string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.getSortOrder">
<code class="sig-name descname">getSortOrder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.getSortOrder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.getSortOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sort order of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>string of the sort order of the project if it’s not Unnamed
project, otherwise empty string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.getSortedTag">
<code class="sig-name descname">getSortedTag</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.getSortedTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.getSortedTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sorted tag of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>string of the sorted tag of the project if it’s not Unnamed
project, otherwise empty string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.get_data_history">
<code class="sig-name descname">get_data_history</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.get_data_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.get_data_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the processing history for the given data file.</p>
<p>The history dict contains several elements:</p>
<ul class="simple">
<li><p><cite>parent_files</cite>: set of other data used (directy or indirectly) to
produce the data.</p></li>
<li><p><cite>processes</cite>: processing bricks set from each ancestor data which
lead to the given one. Elements are process (brick) UUIDs.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>history (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.get_finished_bricks_in_pipeline">
<code class="sig-name descname">get_finished_bricks_in_pipeline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">engine</span></em>, <em class="sig-param"><span class="n">pipeline</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.get_finished_bricks_in_pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.get_finished_bricks_in_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.get_finished_bricks_in_workflows">
<code class="sig-name descname">get_finished_bricks_in_workflows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">engine</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.get_finished_bricks_in_workflows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.get_finished_bricks_in_workflows" title="Permalink to this definition">¶</a></dt>
<dd><p>blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.get_orphan_bricks">
<code class="sig-name descname">get_orphan_bricks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bricks</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.get_orphan_bricks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.get_orphan_bricks" title="Permalink to this definition">¶</a></dt>
<dd><p>blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.get_orphan_history">
<code class="sig-name descname">get_orphan_history</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.get_orphan_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.get_orphan_history" title="Permalink to this definition">¶</a></dt>
<dd><p>blabla</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.get_orphan_nonexsiting_files">
<code class="sig-name descname">get_orphan_nonexsiting_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.get_orphan_nonexsiting_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.get_orphan_nonexsiting_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Get orphan files which do not exist from the database</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.hasUnsavedModifications">
<code class="sig-name descname">hasUnsavedModifications</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.hasUnsavedModifications"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.hasUnsavedModifications" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if the project has unsaved modifications or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>boolean, True if the project has pending modifications,
False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.init_filters">
<code class="sig-name descname">init_filters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.init_filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.init_filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the filters at project opening.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.loadProperties">
<code class="sig-name descname">loadProperties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.loadProperties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.loadProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the properties file.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.redo">
<code class="sig-name descname">redo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.redo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.redo" title="Permalink to this definition">¶</a></dt>
<dd><p>Redo the last action made by the user on the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table</strong> – table on which to apply the modifications</p>
</dd>
</dl>
<dl class="simple">
<dt>Actions that can be undone:</dt><dd><ul class="simple">
<li><p>add_tag</p></li>
<li><p>remove_tags</p></li>
<li><p>add_scans</p></li>
<li><p>modified_values</p></li>
<li><p>modified_visibilities</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.reput_values">
<code class="sig-name descname">reput_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.reput_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.reput_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-put the value objects in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> – List of Value objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.saveConfig">
<code class="sig-name descname">saveConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.saveConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.saveConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the changes in the properties file.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.saveModifications">
<code class="sig-name descname">saveModifications</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.saveModifications"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.saveModifications" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the pending operations of the project (actions
still not saved).</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.save_current_filter">
<code class="sig-name descname">save_current_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">custom_filters</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.save_current_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.save_current_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>custom_filters</strong> – The customized filter</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.setCurrentFilter">
<code class="sig-name descname">setCurrentFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filter</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.setCurrentFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.setCurrentFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the current filter of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filter</strong> – new Filter object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.setDate">
<code class="sig-name descname">setDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.setDate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.setDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the date of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date</strong> – new date of the project</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.setName">
<code class="sig-name descname">setName</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.setName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.setName" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the name of the project if it’s not Unnamed project,
otherwise does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – new name of the project</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.setSortOrder">
<code class="sig-name descname">setSortOrder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.setSortOrder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.setSortOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the sort order of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>order</strong> – new sort order of the project (ascending or descending)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.setSortedTag">
<code class="sig-name descname">setSortedTag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.setSortedTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.setSortedTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the sorted tag of the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – new sorted tag of the project</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.undo">
<code class="sig-name descname">undo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.undo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo the last action made by the user on the project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table</strong> – table on which to apply the modifications</p>
</dd>
</dl>
<dl class="simple">
<dt>Actions that can be undone:</dt><dd><ul class="simple">
<li><p>add_tag</p></li>
<li><p>remove_tags</p></li>
<li><p>add_scans</p></li>
<li><p>modified_values</p></li>
<li><p>modified_visibilities</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.unsaveModifications">
<code class="sig-name descname">unsaveModifications</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.unsaveModifications"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.unsaveModifications" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsave the pending operations of the project.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.unsavedModifications">
<em class="property">property </em><code class="sig-name descname">unsavedModifications</code><a class="headerlink" href="#populse_mia.data_manager.project.Project.unsavedModifications" title="Permalink to this definition">¶</a></dt>
<dd><p>Setter for _unsavedModifications.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.update_data_history">
<code class="sig-name descname">update_data_history</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.update_data_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.update_data_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup earlier history of given data by removing from their bricks
list those which correspond to obsolete runs (data has been re-written
by more recent runs). This function only updates data status (bricks
list), it does not remove obsolete bricks from the database.</p>
<p>a set of obsolete bricks that might become orphan: they are not used
any longer in input data history, and were in the previous ones. But
they still can be used in other data.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project.Project.update_db_for_paths">
<code class="sig-name descname">update_db_for_paths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project.html#Project.update_db_for_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project.Project.update_db_for_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the history and brick tables with a new project file.</p>
<p>Necessary when a project is renamed or when a new project is loaded
from outside.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-populse_mia.data_manager.project_properties">
<span id="populse-mia-data-manager-project-properties-module"></span><h2>populse_mia.data_manager.project_properties module<a class="headerlink" href="#module-populse_mia.data_manager.project_properties" title="Permalink to this headline">¶</a></h2>
<p>Module that contains the class to handle the projects saved in the software.</p>
<dl class="simple">
<dt>Contains:</dt><dd><p>Class:
- SavedProjects</p>
</dd>
</dl>
<dl class="py class">
<dt id="populse_mia.data_manager.project_properties.SavedProjects">
<em class="property">class </em><code class="sig-prename descclassname">populse_mia.data_manager.project_properties.</code><code class="sig-name descname">SavedProjects</code><a class="reference internal" href="_modules/populse_mia/data_manager/project_properties.html#SavedProjects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project_properties.SavedProjects" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class that handles all the projects that have been saved in the
software.</p>
<dl class="py method">
<dt id="populse_mia.data_manager.project_properties.SavedProjects.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project_properties.html#SavedProjects.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project_properties.SavedProjects.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Initialise the savedProjects attribute from the saved_projects.yml</dt><dd><p>file.</p>
</dd>
</dl>
<p>The pathsList attribute is initialised as the value corresponding to
the “paths” key in the savedProjects dictionary.</p>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project_properties.SavedProjects.addSavedProject">
<code class="sig-name descname">addSavedProject</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">newPath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project_properties.html#SavedProjects.addSavedProject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project_properties.SavedProjects.addSavedProject" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new project to save in the savedProjects and pathsList
attributes.</p>
<p>Finally, save the savedProjects attribute in the saved_projects.yml
file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>newPath</strong> – new project’s path to add</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the new path’s list (pathsList attribute)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project_properties.SavedProjects.loadSavedProjects">
<code class="sig-name descname">loadSavedProjects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project_properties.html#SavedProjects.loadSavedProjects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project_properties.SavedProjects.loadSavedProjects" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the savedProjects dictionary from the saved_projects.yml file.</p>
<p>If the saved_projects.yml file is not existing, it is created with the
“{paths: []}” value and the returned dictionnary is {paths: []}.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project_properties.SavedProjects.removeSavedProject">
<code class="sig-name descname">removeSavedProject</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project_properties.html#SavedProjects.removeSavedProject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project_properties.SavedProjects.removeSavedProject" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a saved project from the saved_projects.yml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – path of the saved project to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="populse_mia.data_manager.project_properties.SavedProjects.saveSavedProjects">
<code class="sig-name descname">saveSavedProjects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/populse_mia/data_manager/project_properties.html#SavedProjects.saveSavedProjects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#populse_mia.data_manager.project_properties.SavedProjects.saveSavedProjects" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the savedProjects dictionary to the saved_projects.yml
file.</p>
</dd></dl>

</dd></dl>

</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, populse.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>